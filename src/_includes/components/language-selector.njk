{% set pageUrl = page
  .url
  .split('/')
  .slice(2)
  .join('/') %}

{% if locales.length %}
  <nav aria-label="language">
    <details class="language-selector">
      <summary class="language-selector__toggle">
        <svg class="language-selector__icon-globe" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="#232430" d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zM7.9 2.3c-.5.7-1 1.5-1.4 2.4-.5-.1-1-.3-1.5-.6.8-.7 1.8-1.4 2.9-1.8zm-4 3c.7.3 1.4.6 2.1.8-.5 1.5-.8 3.3-.8 5.2H1.5c.1-2.3 1-4.4 2.4-6zm-2.4 7.4h3.7c.1 1.9.4 3.6.8 5.2-.7.2-1.4.5-2.1.9-1.4-1.7-2.3-3.8-2.4-6.1zM5 19.9l1.5-.6c.4.9.9 1.8 1.4 2.5-1.1-.5-2.1-1.2-2.9-1.9zm6.3 2.5c-1.3-.4-2.5-1.7-3.4-3.6 1.1-.3 2.2-.4 3.4-.5v4.1zm0-5.5c-1.3.1-2.6.2-3.9.6-.4-1.4-.7-3-.8-4.7h4.7v4.1zm0-5.6H6.6c.1-1.7.3-3.3.8-4.7 1.3.3 2.6.5 3.9.6v4.1zm0-5.6c-1.1 0-2.3-.2-3.4-.5.8-1.9 2-3.3 3.4-3.6v4.1zm11.2 5.6h-3.7c-.1-1.9-.4-3.6-.8-5.2.7-.2 1.4-.5 2.1-.9 1.4 1.7 2.3 3.8 2.4 6.1zM19 4.1l-1.5.6c-.4-.9-.9-1.8-1.4-2.5 1.1.5 2.1 1.2 2.9 1.9zm-6.3-2.5c1.3.4 2.5 1.7 3.4 3.6-1.1.3-2.2.4-3.4.5V1.6zm0 5.5c1.3-.1 2.6-.2 3.9-.6.4 1.4.7 3 .8 4.7h-4.7V7.1zm0 5.6h4.7c-.1 1.7-.3 3.3-.8 4.7-1.3-.3-2.6-.5-3.9-.6v-4.1zm0 9.7v-4.1c1.1 0 2.3.2 3.4.5-.9 1.9-2 3.3-3.4 3.6zm3.4-.7c.5-.7 1-1.5 1.4-2.5l1.5.6c-.8.8-1.8 1.5-2.9 1.9zm4-3l-2.1-.9c.5-1.5.8-3.3.8-5.2h3.7c-.1 2.4-1 4.5-2.4 6.1z"/>
        </svg>{% for item in locales -%}
          {% if locale === item.code %}{{ item.abbr }}{% endif %}{% endfor -%}<svg class="language-selector__icon-chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path fill="none" fill-rule="evenodd" stroke="#232430" stroke-width="2" d="M7 10l5 5 5-5"/>
        </svg>
      </summary>
      <ul class="language-selector__content ul">
        {% for item in locales -%}
          <li><a href="/{{ item.code }}/{{ pageUrl }}" rel="alternate" hreflang="{{ item.code }}" {% if locale === item.code %}aria-current="true"{% endif %}>{{ item.label }}</a>
          </li>
        {% endfor -%}
      </ul>
    </details>
  </nav>  
{% endif %}